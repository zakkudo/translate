<a name="module_Translator"></a>

## Translator
Helper class to make working with translations enjoyable.

[![Build Status](https://travis-ci.org/zakkudo/translator.svg?branch=master)](https://travis-ci.org/zakkudo/translator)
[![Coverage Status](https://coveralls.io/repos/github/zakkudo/translator/badge.svg?branch=master)](https://coveralls.io/github/zakkudo/translator?branch=master)

Why use this?

- Load arbitrary localizations with little fuss
- Incrementally load localizations for use with dynamic imports
- Keys are the translation strings itself, simplifying fallbacks and coding

Install with:

```console
yarn add @zakkudo/translator
```

Also consider `@zakkudo/translate-webpack-plugin` or
`@zakkudo/translation-static-analyzer` for generating translation
templates that this library reads instead of writing them manually.
This library works very similar to `y18n` since it's a thin layer on
top of it to make it more appropriate for the web.

**Example** *(Use the translations with a @zakkudo/translator)*  
```js
import Translator from '@zakkudo/translator';
import localization = from './src/.locales/ja.json'; //Generated by the analyzer

const translator = new Translator();
translator.mergeLocalization('ja', localization); //Incrementally merge the localization
translator.setLocale('ja'); //Tell the translator to use it

const translated = translator.__('I love fish'); //Translate!
const translated = translator.__n('There is a duck in the pond.', 'There are %d ducks in the pond', 3); //Translate!
```

* [Translator](#module_Translator)
    * [.setLocalization(locale, localization)](#module_Translator+setLocalization)
    * [.mergeLocalization(locale, localization)](#module_Translator+mergeLocalization)
    * [.setLocale(locale)](#module_Translator+setLocale)
    * [.getLocale()](#module_Translator+getLocale) ⇒ <code>String</code>
    * [.__(singular, ...leftover)](#module_Translator+__) ⇒ <code>String</code>
    * [.__n(singular, plural, quantity, ...leftover)](#module_Translator+__n) ⇒ <code>String</code>

<a name="module_Translator+setLocalization"></a>

### translator.setLocalization(locale, localization)
Overwrites a specific localization with a new one.

**Kind**: instance method of [<code>Translator</code>](#module_Translator)  

| Param | Type | Description |
| --- | --- | --- |
| locale | <code>String</code> | The locale to overwrite |
| localization | <code>Object</code> | The new localization mapping |

<a name="module_Translator+mergeLocalization"></a>

### translator.mergeLocalization(locale, localization)
Incrementally merges a localization into an existing one.

**Kind**: instance method of [<code>Translator</code>](#module_Translator)  

| Param | Type | Description |
| --- | --- | --- |
| locale | <code>String</code> | The locale to merge into |
| localization | <code>Object</code> | The data to merge with the existing data. |

<a name="module_Translator+setLocale"></a>

### translator.setLocale(locale)
Set the current locale. This will decide which localization is used.

**Kind**: instance method of [<code>Translator</code>](#module_Translator)  

| Param | Type | Description |
| --- | --- | --- |
| locale | <code>String</code> | A locale such as `ja_JP`, `en`, `es` or `default` to just passthrough |

<a name="module_Translator+getLocale"></a>

### translator.getLocale() ⇒ <code>String</code>
**Kind**: instance method of [<code>Translator</code>](#module_Translator)  
**Returns**: <code>String</code> - The currently set locale or 'default' if none is set  
<a name="module_Translator+__"></a>

### translator.__(singular, ...leftover) ⇒ <code>String</code>
Get the mapping for a specific string using the currently set locale.  If the mapping does
not exist, the value is passed through.

**Kind**: instance method of [<code>Translator</code>](#module_Translator)  
**Returns**: <code>String</code> - The localized string if it exists, otherwise the text is passed through as a fallback  

| Param | Type | Description |
| --- | --- | --- |
| singular | <code>String</code> | The string to localize |
| ...leftover | <code>Array.&lt;String&gt;</code> | Leftover arguments to use for interpolation where `%d` or `%s` is used |

<a name="module_Translator+__n"></a>

### translator.__n(singular, plural, quantity, ...leftover) ⇒ <code>String</code>
Translators a plural string.

**Kind**: instance method of [<code>Translator</code>](#module_Translator)  
**Returns**: <code>String</code> - The localized string if it exists, otherwise the text is passed through as a fallback  

| Param | Type | Description |
| --- | --- | --- |
| singular | <code>String</code> | The singular version of the string, such as `%s apple` |
| plural | <code>String</code> | The plural version of the string, such as `%s apples` |
| quantity | <code>Number</code> | Count used to determine which version is used |
| ...leftover | <code>Array.&lt;String&gt;</code> | Other interpolation arguments similar to the singular form of this function |

